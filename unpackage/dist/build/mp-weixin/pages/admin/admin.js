(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/admin"],{"120b":function(e,n,t){"use strict";(function(e){t("6965");i(t("66fd"));var n=i(t("12ff"));function i(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"12ff":function(e,n,t){"use strict";t.r(n);var i=t("b9c2"),u=t("2cd0");for(var a in u)"default"!==a&&function(e){t.d(n,e,(function(){return u[e]}))}(a);t("fc6f");var o,r=t("f0c5"),c=Object(r["a"])(u["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);n["default"]=c.exports},"2cd0":function(e,n,t){"use strict";t.r(n);var i=t("ee20"),u=t.n(i);for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);n["default"]=u.a},b9c2:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return i}));var i={uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-popup/components/uni-popup/uni-popup")]).then(t.bind(null,"988c"))},uniSwipeAction:function(){return t.e("uni_modules/uni-swipe-action/components/uni-swipe-action/uni-swipe-action").then(t.bind(null,"ca76"))},uniSwipeActionItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-swipe-action/components/uni-swipe-action-item/uni-swipe-action-item")]).then(t.bind(null,"f28e"))}},u=function(){var e=this,n=e.$createElement,i=(e._self._c,e.__map(e.menuItems,(function(n,i){var u=e.__get_orig(n),a=t("2254")("./"+n.icon+".png");return{$orig:u,m0:a}})));e._isMounted||(e.e0=function(n){return e.$refs.popup.open()}),e.$mp.data=Object.assign({},{$root:{l0:i}})},a=[]},ee20:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("a34a")),u=t("f6f9"),a=t("64a2");function o(e){return e&&e.__esModule?e:{default:e}}function r(e,n,t,i,u,a,o){try{var r=e[a](o),c=r.value}catch(s){return void t(s)}r.done?n(c):Promise.resolve(c).then(i,u)}function c(e){return function(){var n=this,t=arguments;return new Promise((function(i,u){var a=e.apply(n,t);function o(e){r(a,i,u,o,c,"next",e)}function c(e){r(a,i,u,o,c,"throw",e)}o(void 0)}))}}var s={onShow:function(){e.hideHomeButton(),this.getGuides()},watch:{guides:{handler:function(e,n){(0,a.equalsObj)(e,n)||(this.id="",this.status="")},deep:!0}},data:function(){return{guides:[],triggered:!1,status:"",id:"",query:"",menuItems:[{name:"添加导游",icon:"icon_quanbugerenzhongxin@2x",url:"/pages/createGuide/createGuide"},{name:"一键散团",icon:"icon_quanbuzutuan@2x",handle:this.clearTeam},{name:"退出",icon:"icon_quanbuguanbiweilan@2x",handle:this.logout}],options:[{text:"编辑",style:{backgroundColor:"#dd524d"}}]}},methods:{getGuides:function(){var n=arguments,t=this;return c(i.default.mark((function a(){var o,r;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=n.length>0&&void 0!==n[0]?n[0]:"",e.showLoading({mask:!0,title:"加载中"}),i.prev=2,i.next=5,(0,u.queryGuide)({name:o});case 5:r=i.sent,t.guides=r.value,t.status=t.guides.some((function(e){return t.id===e.id&&0===e.haveTeam}));case 8:return i.prev=8,t.triggered=!1,e.hideLoading(),i.finish(8);case 12:case"end":return i.stop()}}),a,null,[[2,,8,12]])})))()},refresh:function(){this.triggered=!0,this.getGuides()},click:function(n){n.url?e.navigateTo({url:n.url}):n.handle()},logout:function(){e.showModal({content:"是否退出管理员账号",success:function(n){n.confirm&&(e.clearStorage(),getApp().globalData={},e.reLaunch({url:"/pages/login/login"}))}})},search:function(e){this.getGuides(e.detail.value)},radioChange:function(e){var n=this,t=e.detail.value;this.id=parseInt(t),this.status=this.guides.some((function(e){return n.id===e.id&&0===e.haveTeam}))},skip:function(){var n=this;!1===this.status?e.getLocation({type:"gcj02",success:function(){var t=c(i.default.mark((function t(a){var o,r,c,s;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=a.latitude,r=a.longitude,getApp().globalData.longitude=r,getApp().globalData.latitude=o,e.showLoading({mask:!0}),t.prev=3,t.next=6,(0,u.querySceneryNum)({lat:getApp().globalData.latitude,lon:getApp().globalData.longitude});case 6:c=t.sent,s=c.value,s?(getApp().globalData.sceneryNo=s.no,e.navigateTo({url:"/pages/group/group?id=".concat(n.id)})):e.showModal({content:"您不在任何景区"});case 9:return t.prev=9,e.hideLoading(),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[3,,9,12]])})));function a(e){return t.apply(this,arguments)}return a}()}):!0===this.status?e.navigateTo({url:"/pages/myGroup/myGroup?id=".concat(this.id)}):e.showToast({title:"请选择导游",icon:"none"})},clearTeam:function(){var n=this;e.showModal({content:"是否解散所有团",success:function(){var t=c(i.default.mark((function t(a){return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a.confirm){t.next=16;break}return e.showLoading({title:"解散中",mask:!0}),t.prev=2,t.next=5,(0,u.clearTeam)();case 5:n.$refs.popup.close(),e.showModal({content:"解散成功",showCancel:!1}),n.getGuides(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),e.showModal({content:t.t0.toString(),showCancel:!1});case 13:return t.prev=13,e.hideLoading(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])})));function a(e){return t.apply(this,arguments)}return a}()})},edit:function(n){var t=this;this._lock||(this._lock=!0,e.navigateTo({url:"/pages/createGuide/createGuide?name=".concat(n.realName,"&phone=").concat(n.customerPhone,"&id=").concat(n.id),success:function(e){return t._lock=!1}}))}}};n.default=s}).call(this,t("543d")["default"])},f6b0:function(e,n,t){},fc6f:function(e,n,t){"use strict";var i=t("f6b0"),u=t.n(i);u.a}},[["120b","common/runtime","common/vendor"]]]);